(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04abdad3"],{"07ed":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center"},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{color:"primary",dark:"",icon:"",disabled:!t.doneFromCustomer},on:{click:t.show}},"v-btn",r,!1),i),[n("v-icon",[t._v("kitchen")])],1)]}}])},[n("span",[t._v("Order KOT")])]),n("v-menu",{staticClass:"elevation-4",attrs:{"position-x":t.x,"position-y":t.y,absolute:"","offset-y":"","close-on-content-click":!1,transition:"scale-transition"},model:{value:t.showKOTMenu,callback:function(e){t.showKOTMenu=e},expression:"showKOTMenu"}},[n("v-list",{attrs:{dense:"",dark:"","min-width":"200"}},[n("v-list-item",[n("div",{staticClass:"kot-sub-header"},[n("v-icon",{staticClass:"star-icon",attrs:{size:"16"}},[t._v(" star ")]),n("span",[t._v("KOT PRINTER")])],1),n("div",{staticClass:"hint-for-kot"},[t._v(" Cheers! First KOT has been already printed."),n("br"),t._v(" For another one, be sure you've updated cart item quantities. ")])]),n("v-divider"),t._l(t.batchGroupedKOTItems,(function(e,i){return n("v-list-item-group",{key:i},[n("v-subheader",[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(i){var r=i.on,o=i.attrs;return[n("v-btn",t._g(t._b({staticClass:"print-kot-btn",attrs:{icon:"",small:"",color:"orange"},on:{click:function(n){return t.generateKOTPDF(e)}}},"v-btn",o,!1),r),[n("v-icon",{attrs:{size:"18"}},[t._v(" print ")])],1)]}}],null,!0)},[n("span",[t._v("Print KOT")])]),n("span",[t._v("Batch: "+t._s(e.batch))])],1),t._l(e.cartItems,(function(e,i){return n("v-list-item",{key:i+185},[n("v-list-item-avatar",[n("v-avatar",{attrs:{color:"red",size:"30"},on:{click:function(n){return t.removeFromKotMenu(e)}}},[n("v-icon",[t._v("close")])],1)],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(e.itemName))])],1),n("v-list-item-action",[n("v-text-field",{staticClass:"kot-item-quantity",attrs:{solo:"","hide-details":"auto"},model:{value:e.quantityDiff,callback:function(n){t.$set(e,"quantityDiff",n)},expression:"cartItem.quantityDiff"}})],1)],1)}))],2)})),n("v-list-item",[n("v-list-item-content",[n("v-list-item-subtitle",[t._v(" Note: By clicking close will remove the menu item just from the "),n("strong",[t._v("KOT")]),t._v(" menu ")])],1)],1)],2)],1)],1)},r=[],o=(n("a9e3"),n("96cf"),n("1da1")),a=n("5530"),s=n("2f62"),c=n("8baf"),u={props:{orderId:{type:Number,required:!0},doneFromCustomer:{type:Boolean,required:!0}},data:function(){return{isLoading:null,showKOTMenu:!1,x:0,y:0,batchGroupedKOTItems:[],doc:null}},computed:Object(a["a"])(Object(a["a"])({},Object(s["b"])({orderKOTItems:"cart/orderKOTs"})),{},{document:function(){return{heading:"Food Swipe and Online Market Company Pvt. Ltd.",location:"New-road, Pokhara"}}}),created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$bus.on("refresh-kot-menu",t.initialize),e.next=3,t.initialize();case 3:case"end":return e.stop()}}),e)})))()},beforeUnmount:function(){this.$bus.off("refresh-kot-menu",this.initialize)},methods:{initialize:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,t.batchGroupedKOTItems=[],e.next=4,t.$store.dispatch("cart/fetchOrderKOT",{orderId:t.orderId});case 4:t.batchGroupedKOTItems=t.$helper.groupOrderKOTByBatch(t.orderKOTItems),t.isLoading=!1;case 6:case"end":return e.stop()}}),e)})))()},show:function(t){var e=this;t.preventDefault(),this.showKOTMenu=!1,this.x=t.clientX,this.y=t.clientY,this.$nextTick((function(){e.showKOTMenu=!0}))},generateKOTPDF:function(t){this.overlay=!0,this.doc=new c["default"]({orientation:"portrait",uint:"in",format:"dl"}),this.$helper.generateKOTPDF(t,this.doc,this.orderId),this.overlay=!1},removeFromKotMenu:function(t){console.log(t)}}},l=u,d=(n("e41b"),n("2877")),v=n("6544"),m=n.n(v),h=n("8212"),f=n("8336"),p=n("ce7e"),b=n("132d"),O=n("8860"),k=n("da13"),T=n("1800"),_=n("8270"),w=n("5d23"),K=n("1baa"),y=n("e449"),I=n("e0c7"),g=n("8654"),V=n("3a2f"),x=Object(d["a"])(l,i,r,!1,null,"e1e86874",null);e["default"]=x.exports;m()(x,{VAvatar:h["a"],VBtn:f["a"],VDivider:p["a"],VIcon:b["a"],VList:O["a"],VListItem:k["a"],VListItemAction:T["a"],VListItemAvatar:_["a"],VListItemContent:w["b"],VListItemGroup:K["a"],VListItemSubtitle:w["c"],VListItemTitle:w["d"],VMenu:y["a"],VSubheader:I["a"],VTextField:g["a"],VTooltip:V["a"]})},"2d31":function(t,e,n){},e41b:function(t,e,n){"use strict";n("2d31")}}]);
//# sourceMappingURL=chunk-04abdad3.45516e44.js.map